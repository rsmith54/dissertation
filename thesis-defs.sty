\usepackage{xspace}
\newcommand{\Lagr}{\ensuremath{\mathcal{L}}\xspace}
\newcommand{\dmu}{\ensuremath{\partial_\mu}}
\newcommand{\dmuup}{\ensuremath{\partial^\mu}}
\newcommand{\Dmu}{\ensuremath{D_\mu}}
\newcommand{\Dmuup}{\ensuremath{D^\mu}}
\newcommand{\Dmuslash}{\ensuremath{\slashed{D}_\mu}}
\newcommand{\Dmuslashup}{\ensuremath{\slashed{D}^\mu}}
\newcommand{\Poincare}{Poincar\'e}
\newcommand{\order}{\ensuremath{\sim}}
\newcommand{\Ztwo}{\ensuremath{\mathbb{Z}_2}}
\newcommand{\sigmaone}{\ensuremath{\begin{pmatrix} 0 & 1 \\ 1 & 0 \end{pmatrix}}}
\newcommand{\sigmatwo}{\ensuremath{\begin{pmatrix} 0 & -i \\ i & 0 \end{pmatrix}}}
\newcommand{\sigmathree}{\ensuremath{\begin{pmatrix} 1 & 0 \\ 0 & -1 \end{pmatrix}}}
\newcommand{\supe}[1]{\ensuremath{\tilde{#1}}\xspace}
\newcommand{\squark}{\ensuremath{\supe{s}}}
\newcommand{\gluino}{\ensuremath{\supe{g}}}
\newcommand{\lsp}{\ensuremath{\supe{\chi^0_1}}}
\newcommand{\mlsp}{\ensuremath{m_{\supe{\chi^0_1}}}}
\newcommand{\hlttrig}[1]{\ensuremath{{\texttt{ \small HLT\_{#1}}}}}
\newcommand{\trigtt}[1] {\ensuremath{{\texttt{ \small #1}}}}
\newcommand{\mdr}{\ensuremath{M_{\Delta}^{R}}\xspace}
\newcommand{\calosig}{\ensuremath{\xi_{\text{cell}}}}
\newcommand{\kt}{\ensuremath{k_T}}
\newcommand{\Emiss}[1]{\ensuremath{E^\text{miss}_{#1}}}
\newcommand{\Emisscomp}[2]{\ensuremath{E^{\text{miss, }{#2}}_{#1}}}
\newcommand{\HFnm}[3]{\ensuremath{H^{{#1}}_{#2,#3}}}
\newcommand{\HTFnm}[3]{\ensuremath{H^{{#1}}_{T,#2,#3}}}
\newcommand{\mheavy}{\ensuremath{m_{\mathrm{Heavy}}}}
\newcommand{\rframe}{\ensuremath{R}-frame}

\def\undertilde#1{\mathord{\vtop{\ialign{##\crcr
$\hfil\displaystyle{#1}\hfil$\crcr\noalign{\kern1.5pt\nointerlineskip}
$\hfil\tilde{}\hfil$\crcr\noalign{\kern1.5pt}}}}}


\newcommand{\PP}{\ensuremath{PP }\xspace}
\newcommand{\Pa}{\ensuremath{P_a}\xspace}
\newcommand{\Pb}{\ensuremath{P_b}\xspace}

\newcommand{\Ca}{\ensuremath{C_a}\xspace}
\newcommand{\Cb}{\ensuremath{C_b}\xspace}
\newcommand{\Va}{\ensuremath{V_a}\xspace}
\newcommand{\Vb}{\ensuremath{V_b}\xspace}
\newcommand{\Ia}{\ensuremath{I_a}\xspace}
\newcommand{\Ib}{\ensuremath{I_b}\xspace}

\newcommand{\psib}{\ensuremath{ \vec{p_{\mathrm{sib}} }\xspace}}

\newcommand{\ptisr}{\ensuremath{p_{T,S}^{\text{CM}}}\xspace}
\newcommand{\risr} {\ensuremath{R_{\text{ISR}}}\xspace}
\newcommand{\MTS} {\ensuremath{M_{T,S}}\xspace}
\newcommand{\NVjet} {\ensuremath{N_{\text{jet}}^V}\xspace}
\newcommand{\dphiISR}{\ensuremath{\Delta \phi_{ISR,I}}\xspace}

\newcommand{\pzlab}{\ensuremath{p_{PP,z}^{\text{LAB}}\xspace}}
\newcommand{\pzlabratioTwo} {\ensuremath{ \pzlab / (\pzlab + \HTFnm{PP}{2}{1}  ) \xspace} }
\newcommand{\pzlabratioFour}{\ensuremath{ \pzlab / (\pzlab + \HTFnm{PP}{4}{1}  ) \xspace} }
\newcommand{\ptjTworatio}{\ensuremath{p_{T,j2}^{PP}/\HTFnm{PP}{2}{1}\xspace}}

\newcommand{\minjTwoGuy}{\ensuremath{ \mathrm{min} ( {p_{T,j2}^{PP}}_i /{\HTFnm{PP}{2}{1}}_i)}\xspace}
\newcommand{\maxjTwoGuy}{\ensuremath{ \mathrm{max} ( \HFnm{P_i}{1}{0} / \HFnm{P_i}{2}{0} )}\xspace}

\newcommand{\ntext}[2]{ \ensuremath{N^{\mathrm{#2}}_{\mathrm{#1}}} }

\newcommand{\sobs}{\ensuremath{S_{\mathrm{obs}}^{95}}}
\newcommand{\sexp}{\ensuremath{S_{\mathrm{exp}}^{95}}}

%\def\todoi#1{\todo[inline]{#1}}

\def\redcomment#1#2{\emph{\color{red}#1: #2}}
\def\bluecomment#1#2{\emph{\color{blue}#1: #2}}

\def\MRF{{\tt MET\_RefFinal}\xspace}

\def\mediumpp{{\tt medium++}\xspace}
\def\tight{{\tt tight}\xspace}

\def\deltaPhi{\ensuremath{\Delta\phi}\xspace}
\def\deltaEta{\ensuremath{\Delta\eta}\xspace}
\def\deltaR{\ensuremath{\Delta R}\xspace}

\def\ptconetwenty{{\tt ptcone20}}
\def\etconeten{{\tt Etcone10}}
\def\etconetwenty{{\tt Etcone20}}

\newcommand{\ETmisssoft}{\ensuremath{E_{\text{T,soft}}^{\text{miss}}}}

\newcommand{\mettrue}{\ensuremath{E_{\mathrm T}^\text{miss,Truth}}}
\newcommand{\mettruevec}{\ensuremath{\vec{E}_{\mathrm T}^\text{miss,Truth}}}
\def\metvec{\ensuremath{\vec{E}_{\mathrm{T}}^{\mathrm{miss}}\xspace}}
\def\methat{\ensuremath{\hat{E}_{\mathrm{T}}^{\mathrm{miss}}}}
\def\metsoft{\ensuremath{E_{\mathrm T}^{\mathrm miss,Soft Term}}}
\def\metsoftvec{\ensuremath{\vec{E}_{\mathrm T}^{\mathrm miss,Soft Term}}}
\def\metsoftpara{\ensuremath{E_{\parallel}^{\mathrm{miss,Soft Term}}}}
\def\metsoftperp{\ensuremath{E_{\perp}^{\mathrm{miss,Soft Term}}}}
\def\metsoftparaperp{\ensuremath{E_{\parallel (\perp)}^{\mathrm{miss,Soft Term}}}}
\def\metsoftxy{\ensuremath{E_{x (y)}^{\mathrm{miss,Soft Term}}}}
\def\metsoftsysreso{\ensuremath{E_{\parallel (\perp), {\mathrm reso}}^{\mathrm{miss,Soft Term}}}}
\def\mexysoftsysreso{\ensuremath{E_{x (y), {\mathrm reso}}^{\mathrm{miss,Soft Term}}}}
\def\metsoftsysscale{\ensuremath{E_{\parallel, {\mathrm scale}\pm}^{\mathrm{miss,Soft Term}}}}
\def\metv{$\textbf{\textit{E}}_{\mathrm T}^{\mathrm miss}$}
\def\sumve{\ensuremath{\sum\vec{E}_{\mathrm T}^{\mathrm e}}\xspace}
\def\sumvtrk{\ensuremath{\sum\vec{E}_{\mathrm T}^{\mathrm trk}}\xspace}
\def\sumvnu{\ensuremath{\sum\vec{E}_{\mathrm T}^{\mathrm \nu}}\xspace}
\def\sumvmu{\ensuremath{\sum\vec{E}_{\mathrm T}^{\mathrm \mu}}\xspace}
\def\sumvtau{\ensuremath{\sum\vec{E}_{\mathrm T}^{\mathrm \tau}}\xspace}
\def\sumvgamma{\ensuremath{\sum\vec{E}_{\mathrm T}^{\mathrm      \gamma}}\xspace}
\def\sumvjet{\ensuremath{\sum \vec{E}_{\mathrm T}^{\text{jet}}}\xspace}
\def\dphimettruth{\ensuremath{\Delta\phi(\metvec,\mettruevec)}\xspace}
\def\sigmadphimettruth{\ensuremath{RMS(\Delta\phi(\metvec,\mettruevec))}\xspace}
\def\dphimetlep{\ensuremath{\Delta\phi(\metvec, \ell))}\xspace}
\def\dphimettruelep{\ensuremath{\Delta\phi(\mettruevec, \ell))}\xspace}
\def\sigmadphimetlep{\ensuremath{\sigma(\Delta\phi(\metvec,   \ell))}\xspace}

\def\stvf{\ensuremath{\alpha_{\text{STVF}}}\xspace}

\def \ptmis{$p^{\mathrm{miss}}_{\mathrm{T}}\;$}
\def \ptsoft{$p^{\mathrm{soft}}_{\mathrm{T}}\;$}
\def \ptmisSoft{$p^{\mathrm{miss}}_{\mathrm{T,soft}}\;$}
\def \ptmisSoftL{$p^{\mathrm{miss}}_{\mathrm{T,soft,L}}\;$}
\def \ptmisSoftP{$p^{\mathrm{miss}}_{\mathrm{T,soft,P}}\;$}
\def \ptLep{$p^{\mathrm{Lep}}_{\mathrm{T}}\;$}
\def \ptTrkHard{$p^{\mathrm{hard,trk}}_{\mathrm{T}}\;$}
\def \sumpt{$\sum p_{\mathrm{T}}\;$}
\def\phimiss{\ensuremath{\phi^{\text{miss}}}}
\def \EtmisT{$E^{\mathrm{miss,\; track}}_{\mathrm{T}}\;$}
\def \EtmisC{$E^{\mathrm{miss, \; calo}}_{\mathrm{T}}\;$}

\def\metx{\ensuremath{E_{\text{x}}^{\text{miss}}}\xspace}
\def\mety{\ensuremath{E_{\text{y}}^{\text{miss}}}\xspace}
%% \def\metx{\ensuremath{E_{\mathrm x}^{\mathrm miss}}}
%% \def\mety{\ensuremath{E_{\mathrm y}^{\mathrm miss}}}
\def\metphi{\ensuremath{E_{\mathrm \phi}^{\mathrm miss}}}
\def \ptZ{\ensuremath{p_{\mathrm{T}}^{Z}}}
\def \ptW{\ensuremath{p_{\mathrm{T}}^{W}}}
\def \ptZvec{\ensuremath{\mathbf{p}_{\mathrm{T}}^{Z}\xspace}}
\def \ptmisparl{\ensuremath{p^{\mathrm{miss}}_{\mathrm{T,||}}\;}}
\def \sumpt{\ensuremath{\Sigma p_{T}}\xspace}
\def \sumetsoft{\ensuremath{\Sigma E_{T}^{\text{Soft Term}}}\xspace}
\def \sumetevt{\ensuremath{\Sigma E_{T}}\xspace}
\def \sumjetet{\ensuremath{\Sigma E_{T}^{\mathrm jets}}\xspace}
\def \summuonet{\ensuremath{\Sigma E_{T}^{\mathrm \mu}}\xspace}
\def \sumelecet{\ensuremath{\Sigma E_{T}^{\mathrm \text{e}}}\xspace}
\def \dphi{$\Delta \phi\;$}
\def \central{$\abseta < 2.0\;$}
\def \forward{$\abseta > 3.0\;$}
\def \dET{$\Delta E_{T}\;$}
\def\Npv{$N_{\mathrm{PV}}$}
\def\npv{$N_{\mathrm{PV}}$}
\def\muav{\ensuremath{\langle \mu \rangle}}
\def\muavno{$\mu$}
\def\mT{\ensuremath{m_{\mathrm{T}}}}
\def\mTtrue{\ensuremath{m_{\mathrm{T}}^{\mathrm{Truth}}}}
\def\pthard{\ensuremath{ p_{\mathrm{T}}^{\mathrm{hard}}}}
\def\ptvec{\ensuremath{\vec{\pt}}\xspace}
\def\pthardvec{\ensuremath{\vec{p}_{\mathrm T}^\text{hard}}\xspace}
\def\pthardhat{\ensuremath{\hat{\vec{p}}_{\mathrm T}^\text{hard}}\xspace}

\newcommand{\zzero}{\ensuremath{z_{0}\xspace}}

\def\recoil{\ensuremath{\textbf{\textit{Recoil}}}}
\def\Az{\ensuremath{\mathbf { \textbf{ \textit {A}}}_Z}}

\newcommand{\ptmiss}{\ensuremath{E_{\mathrm{T}}^{\mathrm{miss,track}}}}
\newcommand{\jcorrptmiss}{\ensuremath{E_{\mathrm{T}}^{\mathrm{miss,track,jetCorr}}}}
\newcommand{\ptmissRel}{\ensuremath{E_{\mathrm{T, Rel}}^{\mathrm{miss,trk}}}}
\newcommand{\njet}{\ensuremath{N_{\text{jets}}}}
\def\ptsofttrk{\ensuremath{p_{\mathrm{T,soft}}^{\mathrm{miss,trk}}}}
\def\pthardtrk{\ensuremath{p_{\mathrm{T,hard}}^{\mathrm{miss,trk}}}}
\def\trkmetx{\ensuremath{p_{\mathrm{x,soft}}^{\mathrm{miss,trk}}}}
\def\trkmety{\ensuremath{p_{\mathrm{y,soft}}^{\mathrm{miss,trk}}}}
\def\trkmet{\ensuremath{p_{\mathrm{T,soft}}^{\mathrm{miss,trk}}}}
\def\trkmetori{\ensuremath{E_{\mathrm{T}}^{\mathrm{miss,trk}}}}
\def\trkmetrel{\ensuremath{E_{\mathrm{T,rel}}^{\mathrm{miss,trk}}}}
\def\trkmetv{\ensuremath{\textbf{\textit{p}}_{\mathrm T,soft}^{\mathrm miss,trk}}}
\def\trkmetL{\ensuremath{p_{\mathrm{T,soft}}^{\mathrm{L,miss,trk}}}}
\def\trkmetT{\ensuremath{p_{\mathrm{T,soft}}^{\mathrm{T,miss,trk}}}}
\def\trkmetLT{\ensuremath{p_{\mathrm{L,P,soft}}^{\mathrm{L,miss,trk}}}}
\def\trkmetLTcorr{\ensuremath{p_{\mathrm{L,P,soft}}^{\mathrm{miss,trk\pm}}}}
\def\trkmetLcorr{\ensuremath{p_{\mathrm{L,soft}}^{\mathrm{miss,trk\pm}}}}
\def\mll{\ensuremath{m_{\ell\ell}}}
\def\mtt{\ensuremath{m_{\tau\tau}}}
\newcommand{\sumpTsq}{\ensuremath{\Sigma \pt^2}}
\newcommand{\Zjets}{\ensuremath{Z\mathrm{+jets}}}
\newcommand{\gammajets}{\ensuremath{\gamma\mathrm{+jets}}}
\newcommand{\Wjets}{\ensuremath{W\mathrm{+jets}}}

\newcommand{\gammajet}{\gammajets}
\newcommand{\zjets}{\ensuremath{Z\mathrm{+jets}}}
\newcommand{\wjets}{\ensuremath{W\mathrm{+jets}}}

\newcommand{\zjet}{\zjets}
\newcommand{\wjet}{\wjets}

\newcommand{\WW}{\ensuremath{WW}\xspace}
\newcommand{\jvf}{\ensuremath{\text{JVF}}}
\newcommand{\absjvf}{\ensuremath{\lvert \text{JVF} \rvert}}

\newcommand{\RestFrames}{\textsc{RestFrames}}

\newcommand{\PYTHIASix}{\textsc{Pythia6}}
\newcommand{\PYTHIAEight}{\textsc{Pythia8}}
\newcommand{\POWHEGPYTHIA}{\textsc{Powheg+Pythia}}
\newcommand{\POWHEGPYTHIAEight}{\textsc{Powheg+Pythia8}}
\newcommand{\HERWIGPP}{\textsc{Herwig++}}
%\newcommand{\MADGRAPH}{MadGraph}
\newcommand{\MCATNLO}{M\textsc{C@NLO}}
\newcommand{\aMCATNLO}{aMC@NLO}
\newcommand{\GGTOWW}{G\textsc{G2WW}}
\newcommand{\HDECAY}{H\textsc{decay}}
\newcommand{\GEANTFour}{\textsc{Geant4}\xspace}
%\newcommand{\ACERMC}{{\textsc{acermc}}}

\newcommand\CTEQ         {{\textsc{CTEQ}}}
\newcommand\CTTen        {{\textsc{CT10}}}
\newcommand\CTEQSix      {{\textsc{CTEQ6L1}}}

\newcommand{\resopara}{\ensuremath{\sigma_\mathrm{L}}}
\newcommand{\resoperp}{\ensuremath{\sigma_\mathrm{T}}}
\newcommand{\shiftpara}{\ensuremath{\Delta_\mathrm{L}}}
% Shorthand for \phantom to use in tables
\newcommand{\pho}{\phantom{0}}
\newcommand{\bslash}{\ensuremath{\backslash}}
\newcommand{\BibTeX}{{\sc Bib\TeX}}

\newcommand{\figref}[1]{Figure~\ref{#1}}
\newcommand{\figsref}[1]{Figures.~\ref{#1}}
%\newcommand{\partref}[1]{part~\ref{#1}}
\newcommand{\Secref}[1]{Section~\ref{#1}}
\newcommand{\tabref}[1]{Table~\ref{#1}}

% susy-specific variables
\newcommand{\meff}{\ensuremath{m_{\mathrm{eff}}}} % This was an M, but all our other m's are in lower case and M_eff sticks out like a sore thumb.  So I've changed it to something more relaxing.
\newcommand{\meffincl}{\ensuremath{m_{\mathrm{eff}}^{\mathrm{inc}}}}
\newcommand{\meffexcl}{\ensuremath{m_{\mathrm{eff}}^{\mathrm{excl}}}}
\newcommand{\mt}{\ensuremath{m_\mathrm{T}}}
\newcommand{\mttwo}{\ensuremath{m_\mathrm{T2}}}
\newcommand{\amttwo}{\ensuremath{m_\mathrm{T2}^{a}}}
\newcommand{\mc}{\ensuremath{m_\mathrm{C}}}
\newcommand{\mct}{\ensuremath{m_\mathrm{CT}}}

\def\ptl{\ensuremath{p_{\mathrm{T}}^\ell}}
\def\ptlone{\ensuremath{p_{\mathrm{T}}^{\ell_1}}}
\def\ptltwo{\ensuremath{p_{\mathrm{T}}^{\ell_2}}}
\def\ptj{\ensuremath{p_{\mathrm{T}}^{jet}}}
%\newcommand{\alphat}{\ensuremath{\ensuremath{\alpha_{T}}}}
%\newcommand{\etmiss}{\ensuremath{\slashed{E}_T}}
%\newcommand{\pmiss}{\ensuremath{\slashed{p}}}
%\newcommand{\ptmiss}{\ensuremath{\slashed{p}_T}}
%\newcommand{\Ptmiss}{\ensuremath{{\slashed{\bf p}}_T}}
\def\Ptmiss{\ensuremath{\bm{E}\mathrm{^{miss}_T}}}

\def\lsim{\mathrel{\rlap{\lower4pt\hbox{\hskip1pt$\sim$}}
    \raise1pt\hbox{$<$}}}                % less than or approx. symbol
\def\gsim{\mathrel{\rlap{\lower4pt\hbox{\hskip1pt$\sim$}}
    \raise1pt\hbox{$>$}}}                % greater than or approx. symbol

%\renewcommand{\thesubfigure}{\alpha{subfigure}}
%\makeatletter
%\renewcommand{\p@subfigure}{\arabic{figure}}
%\renewcommand{\thesubfigure}{\alph{subfigure}}
%\renewcommand{\@thesubfigure}{(\thesubfigure)}
%\makeatother
\newcommand{\alpgen}{\textsc{Alpgen}}
\newcommand{\histfitter}{\textsc{HistFitter}}
\newcommand{\powheg}{\textsc{Powheg}}
\newcommand{\powhegbox}{\textsc{PowhegBox}}
\newcommand{\prospino}{\textsc{Prospino}}
\newcommand{\herwig}{\textsc{Herwig}}
\newcommand{\pythia}{\textsc{Pythia}}
\newcommand{\mcatnlo}{\textsc{Mc@Nlo}}
\newcommand{\fewz}{\textsc{Fewz}}
\newcommand{\mcfm}{\textsc{Mcfm}}
\newcommand{\isajet}{\textsc{Isajet}}
\newcommand{\madgraph}{\textsc{Madgraph}}
\newcommand{\isasugra}{\textsc{Isasugra}}
\newcommand{\isasusy}{\textsc{Isasusy}}
\newcommand{\jimmy}{\textsc{Jimmy}}
\newcommand{\sherpa}{\textsc{Sherpa}}
\newcommand{\cteqVER}[1]{\textsc{CTEQ#1}}
\newcommand{\mrstVER}[1]{\textsc{MRST#1}}
\newcommand{\cteq}{\textsc{CTEQ6.6}}
\newcommand{\mstw}{\textsc{Mstw2008}}
\newcommand{\perugia}{{\textsc{Perugia2011C}}}
\newcommand{\acermc}{{\textsc{AcerMC}}}
\newcommand{\tauola}{{\tt Tauola}}


\newcommand{\lumi}[2]{$#1 \times 10^{#2} \mathrm{cm}^{-2} \mathrm{s}^{-1}$}
\newcommand{\mettopo}{MET\_Topo\xspace}
\newcommand{\metlhtopo}{MET\_Loc\-Had\-Topo\xspace}
\newcommand{\metsrf}{Simplified MET\_Ref\-Final\xspace}
\newcommand{\metrf}{MET\_Ref\-Final\xspace}
\newcommand{\wen}{W $\rightarrow$ e$\nu$ }
\newcommand{\wmn}{W $\rightarrow$ $\mu\nu$ }
\newcommand{\wln}{W $\rightarrow$ $\ell\nu$ }
\newcommand{\jetmet}{{jet + \met}\xspace}
\newcommand{\jetmetj}[1]{EF\_j75\_jetNoEF\_EFxe#1\_noMu\xspace}
\newcommand{\jetmetf}[1]{EF\_j50\_jetNoEF\_xe#1\_noMu\xspace}
\newcommand{\mymet}[2]{({\met})_{\mathrm{#1}}^{\mathrm{#2}}}

\newcommand{\mvetmiss}{\ensuremath{\vec{E}_{\rm T}^{\rm miss}}}
\newcommand{\trackmet}{\ensuremath{E_{\mathrm{T,track}}^{\mathrm{miss}}}}
\newcommand{\dphitrackmet}{\ensuremath{\Delta\phi(\met,\trackmet)}}

\newcommand{\anactualptmissvecwithapinit}{{\vec{P}}_\mathrm{T}^\mathrm{\; miss}}
\newcommand{\anactualptmissmagwithapinit}{P_\mathrm{T}^\mathrm{\; miss}}

\newcommand{\ourvecptmiss}{\ensuremath{\bm{E}\mathrm{^{miss}_T}}}
\newcommand{\ourmagptmiss}{\MET}
\newcommand{\peoplecallit}{\MET}

\newcommand{\ourdeltaphishort}{\Delta\phi}
\newcommand{\ourdeltaphifull}{\Delta\phi(\textrm{jet},\ourvecptmiss)_\mathrm{min}}
\newcommand{\ourpt}{p_\mathrm{T}}

\def\mean#1{\left< #1 \right>}
